using System;
using System.Collections.Generic;
using System.ComponentModel.DataAnnotations;

class User
{
    [Required(ErrorMessage = "Введите имя")]
    public string Name { get; set; }

    [Range(18, 100, ErrorMessage = "Возраст от 18 до 100")]
    public int Age { get; set; }

    [EmailAddress(ErrorMessage = "Неверный формат email")]
    public string Email { get; set; }

    [Phone(ErrorMessage = "Неверный формат телефона")]
    public string Phone { get; set; }

    [StringLength(20, MinimumLength = 6, ErrorMessage = "Пароль 6-20 символов")]
    public string Password { get; set; }

    [Compare("Password", ErrorMessage = "Пароли не совпадают")]
    public string ConfirmPassword { get; set; }

    [StringLength(100, MinimumLength = 10, ErrorMessage = "Адрес 10-100 символов")]
    public string Address { get; set; }

    static void Main()
    {
        User u = new User
        {
            Name = "",
            Age = 17,
            Email = "email",
            Phone = "123",
            Password = "12345",
            ConfirmPassword = "123",
            Address = "Коротко"
        };

        var errors = new List<ValidationResult>();
        var context = new ValidationContext(u);
        
        bool ok = Validator.TryValidateObject(u, context, errors, true);

        if (!ok)
        {
            Console.WriteLine("Ошибки:");
            foreach (var e in errors)
                Console.WriteLine(e.ErrorMessage);
        }
    }
}
